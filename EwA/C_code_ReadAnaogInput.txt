#include <avr/io.h>
#include <stdlib.h>
#include <string.h>
#include <stdio.h>
#include <util/delay.h>


#define F_CPU 8000000  //8MHz



void test3(){
	DDRD = 0b00000001;
	DDRC = 0b00000000;
	ADMUX = 0b01100000;
	ADCSRA = 0b10000111;
		// Main program loop
    while (1)
    {
		// Start an ADC conversion by setting ADSC bit (bit 6)
		ADCSRA = ADCSRA | (1 << ADSC);
		// Wait until the ADSC bit has been cleared
		while(ADCSRA & (1 << ADSC));

		if(ADCH > 40)
		{
			// Turn LED on
			PORTD = PORTD | (1 << PD4);
			PORTD = PORTD & ~(1 << PD5);

			_delay_ms(10);
		}
		else
		{
			// Turn LED off
			PORTD = PORTD | (1 << PD5);
			PORTD = PORTD & ~(1 << PD4);

			_delay_ms(10);
		}
	}

}

int main()
{
	test3();
}
